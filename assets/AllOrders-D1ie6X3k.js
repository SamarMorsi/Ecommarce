import{r as c,j as t,a as i}from"./index-BFkvghlA.js";import{S as n}from"./Spinner-DBwLc5We.js";import{H as o}from"./Helmet-D8xBCrZj.js";function j(){let[s,l]=c.useState(null);function d(){i.get("https://ecommerce.routemisr.com/api/v1/orders/",{headers:{token:localStorage.getItem("usertoken")}}).then(e=>{var r;console.log(e==null?void 0:e.data),l((r=e==null?void 0:e.data)==null?void 0:r.data)}).catch(e=>{console.log(e)})}return c.useEffect(()=>{d()},[]),t.jsxs(t.Fragment,{children:[t.jsx(o,{children:t.jsx("title",{children:"Orders"})}),s?t.jsxs("div",{className:"container mx-auto px-10 py-4 my-5 bg-gray-100",children:[t.jsx("h1",{className:"text-3xl font-medium my-4",children:"All Orders"}),!s||s.length===0?t.jsx("p",{children:"No orders found."}):s.map((e,r)=>t.jsxs("div",{className:"mb-8 p-4 bg-white shadow rounded-lg",children:[t.jsxs("div",{className:"mb-4",children:[t.jsxs("h2",{className:"text-xl font-bold text-gray-700",children:["Order #",r+1]}),t.jsxs("p",{children:["Total Price: ",t.jsxs("span",{className:"text-green-500",children:[e.totalOrderPrice," EGP"]})]}),t.jsxs("p",{children:["Payment Method: ",e.paymentMethodType]}),t.jsxs("p",{children:["Date: ",new Date(e.createdAt).toLocaleString()]})]}),e.cartItems.map(a=>t.jsxs("div",{className:"flex items-center border-t py-4",children:[t.jsx("img",{src:a.product.imageCover,alt:a.product.title,className:"w-20 h-20 object-cover rounded"}),t.jsxs("div",{className:"ml-4",children:[t.jsx("h3",{className:"font-medium text-gray-800",children:a.product.title}),t.jsxs("p",{children:["Count: ",a.count]}),t.jsxs("p",{children:["Price: ",a.price," EGP"]})]})]},a._id))]},e._id))]}):t.jsx(n,{})]})}export{j as default};
