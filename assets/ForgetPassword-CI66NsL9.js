import{r as t,u as g,U as h,j as s,a as f,V as a}from"./index-N25QuTE4.js";import{c as b,a as v,u as j}from"./index.esm-BnNRfZoi.js";import{H as y}from"./Helmet-Bs7vAENK.js";function w(){let[F,m]=t.useState(null),[l,i]=t.useState(!1),c=g(),{setuserLogin:u}=t.useContext(h);function d(x){i(!0),f.post("https://ecommerce.routemisr.com/api/v1/auth/forgotPasswords",x).then(({data:e})=>{var r;i(!1),(e==null?void 0:e.statusMsg)==="success"&&(console.log((r=e==null?void 0:e.statusMsg)==null?void 0:r.message),u(e==null?void 0:e.token),c("/verifycode"),localStorage.setItem("usertoken",e==null?void 0:e.token),a.success("Code sent to your email ",{position:"top-right",style:{backgroundColor:"#479747",color:"#FFFFFF",padding:"20px",borderRadius:"5px"},icon:"üëå"}))}).catch(e=>{var r,n;i(!1),console.log(e),m((n=(r=e==null?void 0:e.response)==null?void 0:r.data)==null?void 0:n.message),a.error(e.response.data.message,{position:"top-right",style:{backgroundColor:"#479747",color:"#FFFFFF",padding:"20px",borderRadius:"5px"},icon:"‚ùó"})})}let p=b().shape({email:v().email("invalid email").required("email is required")}),o=j({initialValues:{email:""},validationSchema:p,onSubmit:d});return s.jsxs(s.Fragment,{children:[s.jsx(y,{children:s.jsx("title",{children:"Forget password"})}),s.jsx("div",{className:" flex h-screen py-10  px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"w-full  space-y-8",children:s.jsxs("div",{className:"bg-white  rounded-md p-6",children:[s.jsx("h2",{className:"my-3  text-3xl font-medium tracking-tight",children:"please enter your verification code"}),s.jsxs("form",{className:" space-y-6",onSubmit:o.handleSubmit,children:[s.jsxs("div",{children:[s.jsx("div",{className:"mt-1",children:s.jsx("input",{value:o.values.email,onBlur:o.handleBlur,onChange:o.handleChange,id:"email",name:"email",type:"email",autoComplete:"email",placeholder:"Email",className:"px-2 py-4 mt-1 block w-full rounded-md border border-gray-300  focus:border-[#C2DBFE] focus:transition-all  focus:border-4 focus:outline-none focus:ring-green-500 text-l"})}),o.errors.email&&o.touched.email?s.jsx("h5",{className:"bg-red-100 ps-5 rounded border text-red-700 border-red-200 py-4 mt-3",children:o.errors.email}):null]}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("button",{disabled:l,type:"submit",className:"flex  justify-center rounded-md text-green-700 hover  hover:bg-green-700 cursor-pointer border border-green-700 outline-none  hover:text-white py-2 px-4 text-xl font-medium  ",children:l?s.jsx("i",{className:"fas fa-spinner fa-spin"}):"verfiy"})})]})]})})})]})}export{w as default};
