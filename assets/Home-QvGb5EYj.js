import{r as n,j as s,a as d,C as b,L as y,V as x}from"./index-D5vHPzra.js";import{S as f}from"./index-Cj92TZMX.js";import{S}from"./Spinner-BQQv_fJb.js";import{H as F}from"./Helmet-DoUfYJ11.js";function N(){var u={dots:!1,infinite:!0,arrows:!1,autoplay:!0,autoplaySpeed:3e3,speed:500,slidesToShow:8,slidesToScroll:3,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!1}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:1,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]};let[i,g]=n.useState(null);function o(){d.get("https://ecommerce.routemisr.com/api/v1/categories").then(({data:a})=>{g(a==null?void 0:a.data)}).catch(a=>{console.log(a)})}return n.useEffect(()=>{o()},[]),s.jsx(s.Fragment,{children:s.jsx("div",{className:"my-10",children:s.jsx(f,{...u,children:i==null?void 0:i.map(a=>s.jsxs("div",{children:[s.jsx("img",{src:a.image,className:"h-[200px]",alt:a.name}),s.jsx("h3",{className:"text-center",children:a.name})]}))})})})}const C="/Ecommarce/assets/grocery-banner-2-BWrZqEBM.jpeg",T="/Ecommarce/assets/slider-2-Byt2-_T5.jpeg",k="/Ecommarce/assets/slider-image-1-Dh9d2U6G.jpeg",E="/Ecommarce/assets/slider-image-2-Xt88XJy9.jpeg",A="/Ecommarce/assets/slider-image-3-BtMvVf4V.jpeg";function R(){var u={dots:!0,infinite:!0,arrows:!1,speed:500,slidesToShow:1,slidesToScroll:1,autoplay:!0,autoplaySpeed:3e3};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-wrap",children:[s.jsx("div",{className:"w-3/4 ",children:s.jsxs(f,{...u,children:[s.jsx("img",{src:T,className:"h-[200px] md:h-[300px] lg:h-[400px]",alt:"vegetables"}),s.jsx("img",{src:C,className:"h-[200px] md:h-[300px] lg:h-[400px]",alt:"bread"}),s.jsx("img",{src:A,className:"h-[200px] md:h-[300px] lg:h-[400px]",alt:"cookies"})]})}),s.jsxs("div",{className:"w-1/4",children:[s.jsx("img",{src:E,className:"w-full h-[100px] md:h-[150px] lg:h-[200px]",alt:"wafer rolls"}),s.jsx("img",{src:k,className:"w-full h-[100px] md:h-[150px] lg:h-[200px]",alt:"vegetables"})]})]})})}function B(){let{addToCart:u}=n.useContext(b),[i,g]=n.useState(null),[o,a]=n.useState(""),[m,h]=n.useState([]);async function j(e){var r,c;let t=await u(e);t.data.status==="success"?x.success((r=t==null?void 0:t.data)==null?void 0:r.message,{position:"top-right",style:{backgroundColor:"#479747",color:"#FFFFFF",padding:"20px",borderRadius:"5px"},icon:"🛺"}):x.error((c=t==null?void 0:t.data)==null?void 0:c.message)}async function w(e){return d.post("https://ecommerce.routemisr.com/api/v1/wishlist",{productId:e},{headers:{token:localStorage.getItem("usertoken")}})}async function p(e){var t,r,c;try{let l=await w(e);((t=l==null?void 0:l.data)==null?void 0:t.status)==="success"?x.success((r=l==null?void 0:l.data)==null?void 0:r.message,{position:"top-right",style:{backgroundColor:"#479747",color:"#FFFFFF",padding:"20px",borderRadius:"5px"},icon:"❤️"}):x.error((c=l==null?void 0:l.data)==null?void 0:c.message)}catch{x.error("Something went wrong",{position:"top-right",style:{backgroundColor:"#479747",color:"#FFFFFF",padding:"20px",borderRadius:"5px"},icon:"❗"})}}function v(){d.get("https://ecommerce.routemisr.com/api/v1/products").then(({data:e})=>{g(e==null?void 0:e.data),h(e==null?void 0:e.data)}).catch(e=>{console.log(e)})}return n.useEffect(()=>{v()},[]),n.useEffect(()=>{if(o.trim()==="")h(i);else{let e=i==null?void 0:i.filter(t=>t.title.toLowerCase().includes(o.toLowerCase()));h(e)}},[o,i]),s.jsx(s.Fragment,{children:(m==null?void 0:m.length)>0?s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-center items-center",children:s.jsx("input",{className:"mt-10 text-md py-2 md:w-3xl lg:w-5xl xl:w-6xl px-2 focus:outline-none border border-gray-300 focus:border-4 focus:ring-blue-200 shadow-sm focus:border-blue-300 focus:transition-all placeholder-gray-400  rounded-xl",type:"search",name:"q",placeholder:"search...",value:o,onChange:e=>a(e.target.value)})}),s.jsx("div",{className:"flex gap-y-3 flex-wrap mt-10",children:m==null?void 0:m.map(e=>{var t,r,c;return s.jsx("div",{className:"w-full md:w-1/2 lg:w-1/3 xl:w-1/4",children:s.jsxs("div",{className:"product p-3 relative group rounded overflow-hidden hover:shadow-lg hover:shadow-green-700/70 transition-shadow duration-300",children:[s.jsxs(y,{to:`/productdetails/${e.id}/${(t=e==null?void 0:e.category)==null?void 0:t.name}`,children:[s.jsx("img",{src:e==null?void 0:e.imageCover,alt:e==null?void 0:e.title,className:"w-full"}),s.jsx("span",{className:"text-green-600",children:(r=e==null?void 0:e.category)==null?void 0:r.name}),s.jsx("h3",{className:"mt-4 mb-3 font-medium",children:(c=e==null?void 0:e.title)==null?void 0:c.split(" ").splice(0,2).join(" ")}),s.jsxs("div",{className:"flex justify-between",children:[s.jsxs("span",{children:[e==null?void 0:e.price," EGP"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-500"}),e==null?void 0:e.ratingsAverage]})]})]}),s.jsx("i",{tabIndex:"0",onClick:()=>{p(e==null?void 0:e._id)},className:"fa-solid fa-heart text-2xl mt-5 block text-right w-full focus focus:text-red-700"}),s.jsx("button",{onClick:()=>{j(e==null?void 0:e._id)},className:"absolute bottom-[-100px] left-0 w-52 ms-14 cursor-pointer bg-green-500 text-white py-2 rounded-md opacity-0 transition-all duration-500 ease-in-out group-hover:bottom-3 group-hover:opacity-100 group-hover:ring-1 z-10",children:"Add To Cart"})]})},e==null?void 0:e.id)})})]}):s.jsx(S,{})})}function I(){return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsx("title",{children:"Home"})}),s.jsx(R,{}),s.jsx(N,{}),s.jsx(B,{})]})}export{I as default};
