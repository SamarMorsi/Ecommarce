import{r as o,U as g,u as f,j as e,L as b,a as j}from"./index-Cd4SCZ3Y.js";import{c as w,a as i,u as v}from"./index.esm-CeIygnrU.js";import{H as y}from"./Helmet-Cez7tSo3.js";function F(){let{setuserLogin:d}=o.useContext(g),[t,m]=o.useState(null),[c,a]=o.useState(!1),u=f();function p(h){a(!0),j.post("https://ecommerce.routemisr.com/api/v1/auth/signin",h).then(({data:r})=>{a(!1),r.message==="success"&&(d(r==null?void 0:r.token),u("/"),localStorage.setItem("usertoken",r==null?void 0:r.token))}).catch(r=>{var l,n;a(!1),m((n=(l=r==null?void 0:r.response)==null?void 0:l.data)==null?void 0:n.message)})}let x=w().shape({email:i().email("invalid email").required("email is required"),password:i().required("password is required").matches(/^[A-Z][a-z0-9]{4,10}$/,"invalid password")}),s=v({initialValues:{email:"",password:""},validationSchema:x,onSubmit:p});return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("title",{children:"Login"})}),e.jsx("div",{className:" flex h-screen py-10  px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"w-full  space-y-8",children:e.jsxs("div",{className:"bg-white  rounded-md p-6",children:[e.jsx("h2",{className:"my-3  text-3xl font-medium tracking-tight",children:"login now"}),e.jsxs("form",{className:" space-y-6",onSubmit:s.handleSubmit,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-l text-gray-700 ",children:"Email"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{value:s.values.email,onBlur:s.handleBlur,onChange:s.handleChange,id:"email",name:"email",type:"email",autoComplete:"email",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-[#C2DBFE] focus:transition-all  focus:border-4 focus:outline-none focus:ring-green-500 sm:text-sm"})}),s.errors.email&&s.touched.email?e.jsx("h5",{className:"bg-red-100 ps-5 rounded border text-red-700 border-red-200 py-4 mt-3",children:s.errors.email}):null]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-l text-gray-700",children:"Password"}),e.jsx("div",{className:"mt-1",children:e.jsx("input",{value:s.values.password,onBlur:s.handleBlur,onChange:s.handleChange,id:"password",name:"password",type:"password",autoComplete:"password",className:"px-2 py-3 mt-1 block w-full rounded-md border border-gray-300 shadow-sm focus:border-[#C2DBFE] focus:transition-all  focus:border-4  focus:outline-none focus:ring-green-500 sm:text-sm"})}),s.errors.password&&s.touched.password?e.jsx("h5",{className:"bg-red-100 ps-5 rounded border text-red-700 border-red-200 py-4 mt-3",children:s.errors.password}):null]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(b,{to:"/forgetpassword",className:"text-xl font-medium text-gray-700 cursor-pointer hover hover:text-green-600 transition-all ",children:"forget your password ?"}),e.jsx("button",{type:"submit",className:"flex  justify-center rounded-md  bg-[#3FA43F] hover hover:bg-green-600 cursor-pointer border border-transparent focus:outline-none focus:ring-0 focus:border-gray-500 focus:bg-transparent  focus:text-gray-400 py-2 px-4 text-lg font-medium text-white  ",children:c?e.jsx("i",{className:"fas fa-spinner fa-spin"}):"login now"})]}),t?e.jsx("h5",{className:"bg-red-100 ps-5 rounded border text-red-700 border-red-200 py-4 mt-3",children:t}):null]})]})})})]})}export{F as default};
